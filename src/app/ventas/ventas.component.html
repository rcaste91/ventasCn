<div class="container">
    <h1>Ventas</h1>
</div>

<form >
    
    <div class="form-row text-center form-group table-responsive">
        <dt class="col-md-2">Cantidad</dt>
        <dt class="col-md-2">Precio</dt>
        <dt class="col-md-2">Total</dt>
    </div>


    <div class="form-row form-group">
        <div class="form-group col-md-2">
            <input type="number" class="form-control" placeholder="cant." name="cantidad" (focusout)="calcularTotalProducto()"  [(ngModel)]="cantidad">
        </div>
        <div class="form-group col-md-2">
            <input type="number" step="0.01"  class= "form-control" placeholder="Precio" name="precioElegido" value={{precioElegido}}>
        </div>
        <div class="form-group col-md-2">
            <input type="text"  disabled=true class= "form-control"  name="totalPedido"  placeholder="Total" [(ngModel)]="totalPedido">
        </div>
        <div class="form-group col-md-2">
            <button class="btn btn-primary" (click)="agregarProducto()">Agregar</button>
        </div>
    </div>

    <div class="table-responsive">
        <table class="table">
            <tr *ngFor='let pedido of pedidos; let i = index' [attr.data-index]="i">
                <td>Cantidad: {{pedido.cantidad}}</td>
                <td>Producto: {{pedido.productoNombre}}</td>
                <td>Total: {{pedido.total | currency:'USD':'symbol':'1.2-2'}}</td>
                <td><button  class="btn btn-danger" (click)="eliminarPedido(i)">Eliminar</button></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td>Total Venta: {{totalVenta | currency:'USD':'symbol':'1.2-2'}}</td>
            </tr>
        </table>
    </div>

    <div class="form-row form-group" > 
        <div class="col-sm-4" style="padding-bottom: 10px;" name="productos" *ngFor='let p of productos'>
            <div class="card">
                <img class="card-img-top" src="assets/images/cnelly.png" alt="Card image" (click)="selectProducto(p.productoNombre, p.precio)">
                <div class="card-body">
                    <h5 class="card-title">{{p.productoNombre}}</h5>
                    <p class="card-text">{{p.descripcion}}</p>
                    <p class="card-text">Precio: {{p.precio| currency:'USD':'symbol':'1.2-2'}}</p>
                    <button class="btn btn-primary" (click)="selectProducto(p.productoNombre, p.precio)">Elegir</button>
                </div>
            </div>
        </div>
    </div>

</form>
